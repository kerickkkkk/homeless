{"version":3,"sources":["webpack:///./src/views/dashboard/Dashboard.vue","webpack:///./src/views/dashboard/Dashboard.vue?e3cb"],"names":["class","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","id","to","aria-current","href","signOut","hasRight","name","data","created","this","checkLogin","methods","token","document","cookie","replace","$http","defaults","headers","common","Authorization","$emitter","emit","post","then","res","success","$swal","message","$router","push","catch","error","url","status","__exports__","render"],"mappings":"4IACOA,MAAM,a,GACJA,MAAM,iD,GACJA,MAAM,mB,+BAIR,U,EAGD,yBAUS,UATPA,MAAM,iBACNC,KAAK,SACLC,iBAAe,WACfC,iBAAe,0BACfC,gBAAc,yBACdC,gBAAc,QACdC,aAAW,qB,CAEX,yBAAoC,QAA9BN,MAAM,0B,MAGZO,GAAG,yBACHP,MAAM,4B,GAEFA,MAAM,mC,GACJA,MAAM,Y,+BAIP,U,GAICA,MAAM,Y,+BAIP,U,GAICA,MAAM,Y,+BAIP,U,GAICA,MAAM,Y,+BAIP,W,GAaCA,MAAM,Y,0JAlEpB,yBAiFM,MAjFN,EAiFM,CAhFJ,yBA4EM,MA5EN,EA4EM,CA3EJ,yBA0EM,MA1EN,EA0EM,CAzEJ,yBAKc,GAJZQ,GAAG,IACHR,MAAM,gB,+BACP,iBAED,C,YACA,EAWA,yBAuDM,MAvDN,EAuDM,CAnDJ,yBAkDK,KAlDL,EAkDK,CAjDH,yBAOK,KAPL,EAOK,CANH,yBAKc,GAJZQ,GAAG,IACHR,MAAM,Y,+BACP,iBAED,C,cAEF,yBAOK,KAPL,EAOK,CANH,yBAKc,GAJZQ,GAAG,kBACHR,MAAM,mB,+BACP,iBAED,C,cAEF,yBAOK,KAPL,EAOK,CANH,yBAKc,GAJZQ,GAAG,gBACHR,MAAM,Y,+BACP,iBAED,C,cAEF,yBAOK,KAPL,EAOK,CANH,yBAKc,GAJZQ,GAAG,iBACHR,MAAM,Y,+BACP,iBAED,C,cAWF,yBAOK,KAPL,EAOK,CANH,yBAKO,KAJLA,MAAM,WACNS,eAAa,OACbC,KAAK,IACJ,QAAK,0DAAU,EAAAC,SAAA,EAAAA,QAAA,qBAAO,eACxB,gBAOH,EAAAC,U,yBADR,yBAEE,Y,iEAKS,GACbC,KAAM,YACNC,KAFa,WAGX,MAAO,CACLF,UAAU,IAGdG,QAPa,WAQXC,KAAKC,cAEPC,QAAS,CACPD,WADO,WACO,WACNE,EAAQC,SAASC,OAAOC,QAAQ,6CAA8C,MACtE,KAAVH,GACFH,KAAKO,MAAMC,SAASC,QAAQC,OAAOC,cAAgBR,EACnDH,KAAKY,SAASC,KAAK,qBAAqB,GACxCb,KAAKO,MAAMO,KAAX,UAAmB,uCAAnB,oBACGC,MAAK,SAACC,GACDA,EAAIlB,KAAKmB,QACX,EAAKrB,UAAW,GAEhB,EAAKA,UAAW,EAChB,EAAKsB,MAAMF,EAAIlB,KAAKqB,QAAS,GAAI,SAASJ,MAAK,WAC7C,EAAKK,QAAQC,KAAK,cAGtB,EAAKT,SAASC,KAAK,qBAAqB,MACvCS,OAAM,SAACC,GACR,EAAK3B,UAAW,EAChB,EAAKsB,MAAMK,EAAO,GAAI,SAASR,MAAK,WAClC,EAAKK,QAAQC,KAAK,aAEpB,EAAKT,SAASC,KAAK,qBAAqB,OAG5Cb,KAAKkB,MAAM,iBAAkB,GAAI,SAASH,MAAK,WAC7C,EAAKK,QAAQC,KAAK,cAIxB1B,QA9BO,WA8BI,WACH6B,EAAE,UAAO,uCAAP,WACRxB,KAAKY,SAASC,KAAK,qBAAqB,GACxCb,KAAKO,MAAMO,KAAKU,GACbT,MAAK,SAACC,GAELZ,SAASC,OAAS,kBAClB,IAAMoB,EAAST,EAAIlB,KAAKmB,QAAU,UAAY,QAC9C,EAAKC,MAAMF,EAAIlB,KAAKqB,QAAS,GAAIM,GAAQV,MAAK,WAC5C,EAAKK,QAAQC,KAAK,aAEpB,EAAKT,SAASC,KAAK,qBAAqB,MACvCS,OAAM,SAACC,GACR,EAAKL,MAAMK,EAAO,GAAI,SAASR,MAAK,WAClC,EAAKK,QAAQC,KAAK,aAEpB,EAAKT,SAASC,KAAK,qBAAqB,S,qBCzIlD,MAAMa,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d0d32d2.0a86c406.js","sourcesContent":["<template>\r\n  <div class=\"dashBoard\">\r\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n      <div class=\"container-fluid\">\r\n        <router-link\r\n          to=\"/\"\r\n          class=\"navbar-brand\"\r\n        >\r\n          食無定所\r\n        </router-link>\r\n        <button\r\n          class=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-bs-toggle=\"collapse\"\r\n          data-bs-target=\"#navbarSupportedContent\"\r\n          aria-controls=\"navbarSupportedContent\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span class=\"navbar-toggler-icon\" />\r\n        </button>\r\n        <div\r\n          id=\"navbarSupportedContent\"\r\n          class=\"collapse navbar-collapse\"\r\n        >\r\n          <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n            <li class=\"nav-item\">\r\n              <router-link\r\n                to=\"/\"\r\n                class=\"nav-link\"\r\n              >\r\n                返回前台\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <router-link\r\n                to=\"/admin/products\"\r\n                class=\"nav-link active\"\r\n              >\r\n                產品列表\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <router-link\r\n                to=\"/admin/orders\"\r\n                class=\"nav-link\"\r\n              >\r\n                訂單列表\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <router-link\r\n                to=\"/admin/coupons\"\r\n                class=\"nav-link\"\r\n              >\r\n                優惠劵列表\r\n              </router-link>\r\n            </li>\r\n            <!-- 尚未開發 先隱藏 -->\r\n            <!-- <li class=\"nav-item\">\r\n              <router-link\r\n                to=\"/admin/articles\"\r\n                class=\"nav-link\"\r\n              >\r\n                貼文\r\n              </router-link>\r\n            </li> -->\r\n            <li class=\"nav-item\">\r\n              <a\r\n                class=\"nav-link\"\r\n                aria-current=\"page\"\r\n                href=\"#\"\r\n                @click.prevent=\"signOut\"\r\n              >登出</a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n    <router-view\r\n      v-if=\"hasRight\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'DashBoard',\r\n  data () {\r\n    return {\r\n      hasRight: false\r\n    }\r\n  },\r\n  created () {\r\n    this.checkLogin()\r\n  },\r\n  methods: {\r\n    checkLogin () {\r\n      const token = document.cookie.replace(/(?:(?:^|.*;\\s*)shop\\s*=\\s*([^;]*).*$)|^.*$/, '$1')\r\n      if (token !== '') {\r\n        this.$http.defaults.headers.common.Authorization = token\r\n        this.$emitter.emit('fullScreenLoading', true)\r\n        this.$http.post(`${process.env.VUE_APP_API}/api/user/check`)\r\n          .then((res) => {\r\n            if (res.data.success) {\r\n              this.hasRight = true\r\n            } else {\r\n              this.hasRight = false\r\n              this.$swal(res.data.message, '', 'error').then(() => {\r\n                this.$router.push('/login')\r\n              })\r\n            }\r\n            this.$emitter.emit('fullScreenLoading', false)\r\n          }).catch((error) => {\r\n            this.hasRight = false\r\n            this.$swal(error, '', 'error').then(() => {\r\n              this.$router.push('/login')\r\n            })\r\n            this.$emitter.emit('fullScreenLoading', false)\r\n          })\r\n      } else {\r\n        this.$swal('沒有登入狀態 將導回登入頁面', '', 'error').then(() => {\r\n          this.$router.push('/login')\r\n        })\r\n      }\r\n    },\r\n    signOut () {\r\n      const url = `${process.env.VUE_APP_API}/logout`\r\n      this.$emitter.emit('fullScreenLoading', true)\r\n      this.$http.post(url)\r\n        .then((res) => {\r\n          // 清空 cookies\r\n          document.cookie = 'shop=;expires=;'\r\n          const status = res.data.success ? 'success' : 'error'\r\n          this.$swal(res.data.message, '', status).then(() => {\r\n            this.$router.push('/login')\r\n          })\r\n          this.$emitter.emit('fullScreenLoading', false)\r\n        }).catch((error) => {\r\n          this.$swal(error, '', 'error').then(() => {\r\n            this.$router.push('/login')\r\n          })\r\n          this.$emitter.emit('fullScreenLoading', false)\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Dashboard.vue?vue&type=template&id=0d9beee3\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\code_practice\\\\homeless\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}
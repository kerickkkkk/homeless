{"version":3,"sources":["webpack:///./src/views/dashboard/Products.vue","webpack:///./src/components/dashboard/ProductsModal.vue","webpack:///./src/components/dashboard/ProductsModal.vue?e295","webpack:///./src/components/dashboard/UploadImgModal.vue","webpack:///./src/components/dashboard/UploadImgModal.vue?696d","webpack:///./src/views/dashboard/Products.vue?756c","webpack:///./node_modules/core-js/modules/es.symbol.description.js"],"names":["class","width","role","aria-label","colspan","active","isLoading","color","loader","type","modalHandler","products","length","product","key","id","category","title","origin_price","price","checked","is_enabled","enableProduct","for","pagination","getProducts","ref","tabindex","modalType","closeModal","tempProduct","imageUrl","placeholder","src","alt","imagesUrl","temp","i","addTempImage","newTempImageUrl","unit","min","description","content","sendProduct","deleteProduct","props","tempProductId","String","default","data","modal","delete","addEdit","currentPage","mounted","this","$refs","adminDeleteProductModal","adminAddEdittModal","addEventListener","clearStatus","unmouted","removeEventListener","methods","openModal","show","current_page","hide","$emitter","emit","url","$http","then","res","success","$swal","message","$emit","catch","error","inputMap","name","columnName","checkEmptyArr","filter","el","emptyMsg","reduce","p","n","text","icon","add","edit","appMethod","push","__exports__","value","fileUploadHandler","fileHandler","preViewImgUrl","copyImgUrl","reader","FileReader","uploadImgModal","tempFile","fileOnLoadHandler","unmounted","file","files","readAsDataURL","e","target","result","formData","FormData","append","post","uploadImgInput","select","document","execCommand","components","Pagination","ProductsModal","UploadImgModal","has_next","has_pre","total_pages","created","page","get","selectId","index","findIndex","put","render","$","DESCRIPTORS","global","has","isObject","defineProperty","f","copyConstructorProperties","NativeSymbol","Symbol","prototype","undefined","EmptyStringDescriptionStore","SymbolWrapper","arguments","symbolPrototype","constructor","symbolToString","toString","native","regexp","configurable","symbol","valueOf","string","call","desc","slice","replace","forced"],"mappings":"wJACOA,MAAM,O,GAMJA,MAAM,Y,GAgBJA,MAAM,c,EACX,yBAmBQ,cAlBN,yBAiBK,WAhBH,yBAEK,MAFDC,MAAM,OAAM,QAGhB,yBAAa,UAAT,QACJ,yBAEK,MAFDA,MAAM,OAAM,QAGhB,yBAEK,MAFDA,MAAM,OAAM,QAGhB,yBAEK,MAFDA,MAAM,OAAM,UAGhB,yBAEK,MAFDA,MAAM,OAAM,Y,MAKbD,MAAM,e,GAQHA,MAAM,c,GAGNA,MAAM,c,GAoBHA,MAAM,0B,GAkBTA,MAAM,yBACNE,KAAK,QACLC,aAAW,iB,YAqBjB,yBAKK,MAJHH,MAAM,cACNI,QAAQ,OACT,gBAED,G,wPAxHR,yBAsJM,MAtJN,EAsJM,CArJJ,yBAIE,GAHCC,OAAQ,EAAAC,UACTC,MAAM,UACNC,OAAO,Q,mBAET,yBAeM,MAfN,EAeM,CAdJ,yBAMS,UALPC,KAAK,SACLT,MAAM,mCACL,QAAK,+BAAE,EAAAU,aAAY,gBACrB,UAGD,yBAMS,UALPD,KAAK,SACLT,MAAM,8BACL,QAAK,+BAAE,EAAAU,aAAY,aACrB,aAIH,yBAqGQ,QArGR,EAqGQ,CApGN,EAoBA,yBA+EQ,QA/ER,EA+EQ,CA9EU,EAAAC,SAASC,OAAM,G,2BAC7B,yBAmEK,8CAlEe,EAAAD,UAAQ,SAAnBE,G,gCADT,yBAmEK,MAjEFC,IAAKD,EAAQE,I,CAEd,yBAA+B,uCAAxBF,EAAQG,UAAQ,GACvB,yBAA4B,uCAArBH,EAAQI,OAAK,GACpB,yBAEK,KAFL,EAEK,6BADAJ,EAAQK,cAAY,GAEzB,yBAEK,KAFL,EAEK,6BADAL,EAAQM,OAAK,GAElB,yBAgCK,WAfH,yBAcM,MAdN,EAcM,CAZJ,yBAMC,SALEJ,GAAE,sBAAiBF,EAAQE,IAC3BK,QAASP,EAAQQ,WAClBrB,MAAM,mBACNS,KAAK,WACJ,SAAM,mBAAE,EAAAa,cAAcT,EAAQE,M,qCAEjC,yBAIgD,SAH9Cf,MAAK,CAAC,mBAAkB,gBACCa,EAAQQ,aAChCE,IAAG,sBAAkBV,EAAQE,K,6BAC5BF,EAAQQ,WAAU,4BAG1B,yBAqBK,WApBH,yBAmBM,MAnBN,EAmBM,CAdJ,yBAMS,UALPZ,KAAK,SACLT,MAAM,0BACL,QAAK,mBAAE,EAAAU,aAAY,OAASG,EAAQE,GAA7B,kBAAqCF,MAC9C,OAED,eACA,yBAMS,UALPJ,KAAK,SACLT,MAAM,yBACL,QAAK,mBAAE,EAAAU,aAAY,SAAWG,EAAQE,GAA/B,kBAAuCF,MAChD,OAED,wB,gCAKR,yBAOK,QANH,SASN,yBAGE,GAFCW,WAAY,EAAAA,WACZ,WAAW,EAAAC,a,oCAgBd,yBAGE,GAFAC,IAAI,gBACH,WAAW,EAAAD,a,uBAGd,yBAEE,GADAC,IAAI,kBAAgB,Y,4DCjJpBA,IAAI,qBACJ1B,MAAM,QACN2B,SAAS,O,GAEJ3B,MAAM,gB,GACJA,MAAM,iB,GACJA,MAAM,gB,GACLA,MAAM,e,GAUPA,MAAM,c,GACJA,MAAM,mB,GACHe,GAAG,e,GACFf,MAAM,O,GACJA,MAAM,Y,GACJA,MAAM,mB,EACT,yBAAiC,SAA1BuB,IAAI,WAAU,QAAI,G,EAgBzB,yBAIM,OAJDvB,MAAM,mBAAiB,CAC1B,yBAEK,MAFDA,MAAM,MAAK,Y,MAIZA,MAAM,Y,EAyBb,yBAAI,mB,GACCA,MAAM,mB,EACT,yBAEK,MAFDA,MAAM,MAAK,UAEf,G,GAQKA,MAAM,Q,GAiBVA,MAAM,Y,GACJA,MAAM,mB,EAET,yBAGQ,SAHDuB,IAAI,SAAO,CAChB,yBAAkC,QAA5BvB,MAAM,eAAc,K,6BAAQ,U,MAWjCA,MAAM,iB,GACJA,MAAM,uB,EACT,yBAGQ,SAHDuB,IAAI,YAAU,CACnB,yBAAkC,QAA5BvB,MAAM,eAAc,K,6BAAQ,U,MAWjCA,MAAM,uB,EACT,yBAGQ,SAHDuB,IAAI,QAAM,CACf,yBAAkC,QAA5BvB,MAAM,eAAc,K,6BAAQ,U,MAYnCA,MAAM,iB,GACJA,MAAM,uB,EACT,yBAGQ,SAHDuB,IAAI,gBAAc,CACvB,yBAAkC,QAA5BvB,MAAM,eAAc,K,6BAAQ,U,MAYjCA,MAAM,uB,EACT,yBAAkC,QAA5BA,MAAM,eAAc,KAAC,G,EAC3B,yBAA6B,SAAtBuB,IAAI,SAAQ,MAAE,G,GAWpBvB,MAAM,mB,EACT,yBAEQ,SAFDuB,IAAI,eAAc,UAEzB,G,GAQGvB,MAAM,mB,EACT,yBAEQ,SAFDuB,IAAI,WAAU,UAErB,G,IAQGvB,MAAM,yB,GAOT,yBAGa,SAFXA,MAAM,mBACNuB,IAAI,sBACL,QAAI,G,IAOZvB,MAAM,gB,IAsBf0B,IAAI,0BACJ1B,MAAM,QACN2B,SAAS,M,IAEJ3B,MAAM,gB,IACJA,MAAM,iB,IACJA,MAAM,gB,GACT,yBAEK,MAFDA,MAAM,eAAc,UAExB,G,IAQGA,MAAM,c,IACNA,MAAM,M,gCAAK,Q,IACHA,MAAM,e,gCAAiD,O,IAG/DA,MAAM,gB,+DA/PnB,yBAkRM,YAhRJ,yBAmOM,MAnON,EAmOM,CA9NJ,yBA6NM,MA7NN,EA6NM,CA5NJ,yBA2NM,MA3NN,EA2NM,CA1NJ,yBAUM,MAVN,EAUM,CATJ,yBAEK,KAFL,EAEK,6BADS,QAAT,EAAA4B,UAAS,WAA2B,MACzC,GACA,yBAKE,UAJAnB,KAAK,SACLT,MAAM,YACNG,aAAW,QACV,QAAK,+BAAE,EAAA0B,WAAU,iBAGtB,yBA8LM,MA9LN,EA8LM,CA7LJ,yBA4LM,MA5LN,EA4LM,CA3LJ,yBA0LO,OA1LP,EA0LO,CAzLL,yBAwLM,MAxLN,EAwLM,CAvLJ,yBA4EM,MA5EN,EA4EM,CA3EJ,yBAcM,MAdN,EAcM,CAbJ,E,4BACA,yBAMC,SALCd,GAAG,U,qDACW,EAAAe,YAAYC,SAAQ,IAClCtB,KAAK,OACLT,MAAM,oBACNgC,YAAY,U,4BAHE,EAAAF,YAAYC,c,SAA1B,MAKF,yBAIC,OAHC/B,MAAM,YACLiC,IAAK,EAAAH,YAAYC,SAClBG,IAAI,M,mBAIQ,YAAAJ,YAAYK,iBAAZ,eAAuBvB,QAAM,G,yBAA7C,yBA8BW,uBA7BT,EAKA,yBAuBM,MAvBN,EAuBM,E,2BAtBJ,yBAqBM,2CApBe,EAAAkB,YAAYK,WAAS,SAAhCC,EAAKC,G,gCADf,yBAqBM,OAnBHvB,IAAKuB,EACNrC,MAAM,iB,CAEN,yBAAuD,SAA/CuB,IAAG,UAAcc,EAAC,IAAK,UAAO,6BAAGA,EAAC,c,4BAE1C,yBAMC,SALEtB,GAAE,SAAWsB,EAAC,G,yCACN,EAAAP,YAAYK,UAAUE,GAAC,GAChC5B,KAAK,OACLT,MAAM,oBACLgC,YAAW,UAAYK,EAAC,I,qEAHhB,EAAAP,YAAYK,UAAUE,MAKjC,yBAMM,YALJ,yBAIC,OAHCrC,MAAM,YACLiC,IAAKG,EACNF,IAAI,M,4EAMd,EACA,yBA0BM,MA1BN,EA0BM,CAzBJ,EAGA,yBAMS,UALPzB,KAAK,SACLT,MAAM,gDACL,QAAK,8BAAE,EAAAsC,cAAA,EAAAA,aAAA,sBACT,UAGD,yBAcM,MAdN,EAcM,C,4BAbJ,yBAKC,S,qDAJoB,EAAAC,gBAAe,IAClC9B,KAAK,OACLT,MAAM,oCACNgC,YAAY,U,4BAHO,EAAAO,qB,SAAnB,E,MAAA,MAKF,yBAMM,YALJ,yBAIC,OAHCvC,MAAM,YACLiC,IAAK,EAAAM,gBACNL,IAAI,Q,wBAMd,yBAyGM,MAzGN,EAyGM,CAxGJ,yBAaM,MAbN,EAaM,CAXJ,E,4BAIA,yBAMC,SALCnB,GAAG,Q,qDACM,EAAAe,YAAYb,MAAK,IAC1BR,KAAK,OACLT,MAAM,eACNgC,YAAY,M,4BAHH,EAAAF,YAAYb,WAMzB,yBA2BM,MA3BN,EA2BM,CA1BJ,yBAYM,MAZN,EAYM,CAXJ,E,4BAIA,yBAMC,SALCF,GAAG,W,qDACM,EAAAe,YAAYd,SAAQ,IAC7BP,KAAK,OACLT,MAAM,eACNgC,YAAY,M,4BAHH,EAAAF,YAAYd,cAMzB,yBAYM,MAZN,EAYM,CAXJ,E,4BAIA,yBAMC,SALCD,GAAG,O,qDACM,EAAAe,YAAYU,KAAI,IACzB/B,KAAK,OACLT,MAAM,eACNgC,YAAY,M,4BAHH,EAAAF,YAAYU,YAO3B,yBA2BM,MA3BN,EA2BM,CA1BJ,yBAaM,MAbN,EAaM,CAZJ,E,4BAIA,yBAOC,SANCzB,GAAG,e,qDACa,EAAAe,YAAYZ,aAAY,IACxCT,KAAK,SACLT,MAAM,eACNyC,IAAI,IACJT,YAAY,M,4BAJI,EAAAF,YAAYZ,kB,WAA5B,QAOJ,yBAWM,MAXN,EAWM,CAVJ,EACA,E,4BACA,yBAOC,SANCH,GAAG,Q,qDACa,EAAAe,YAAYX,MAAK,IACjCV,KAAK,SACLT,MAAM,eACNyC,IAAI,IACJT,YAAY,M,4BAJI,EAAAF,YAAYX,W,WAA5B,UAQN,yBAUM,MAVN,EAUM,CATJ,E,4BAGA,yBAKE,YAJAJ,GAAG,c,uDACM,EAAAe,YAAYY,YAAW,IAChC1C,MAAM,eACNgC,YAAY,M,4BAFH,EAAAF,YAAYY,iBAKzB,yBAUM,MAVN,EAUM,CATJ,E,4BAGA,yBAKE,YAJA3B,GAAG,U,uDACM,EAAAe,YAAYa,QAAO,IAC5B3C,MAAM,eACNgC,YAAY,M,4BAFH,EAAAF,YAAYa,aAKzB,yBAWM,MAXN,GAWM,C,4BAVJ,yBAKC,SAJC5B,GAAG,qB,uDACM,EAAAe,YAAYT,WAAU,IAC/BZ,KAAK,WACLT,MAAM,oB,gCAFG,EAAA8B,YAAYT,cAIvB,eAUZ,yBAeM,MAfN,GAeM,CAdJ,yBAMS,UALPZ,KAAK,SACLT,MAAM,kBACL,QAAK,gCAAE,EAAA4C,aAAA,EAAAA,YAAA,sBACT,QAGD,yBAMS,UALPnC,KAAK,SACLT,MAAM,4BACL,QAAK,iCAAE,EAAA6B,WAAU,cACnB,e,KAST,yBAyCM,MAzCN,GAyCM,CApCJ,yBAmCM,MAnCN,GAmCM,CAlCJ,yBAiCM,MAjCN,GAiCM,CAhCJ,yBAUM,MAVN,GAUM,CATJ,GAGA,yBAKE,UAJApB,KAAK,SACLT,MAAM,YACNG,aAAW,QACV,QAAK,iCAAE,EAAA0B,WAAU,gBAGtB,yBAIM,MAJN,GAIM,CAHJ,yBAEI,IAFJ,GAEI,C,GADC,yBAA6D,OAA7D,GAA0B,KAAE,6BAAG,EAAAC,YAAYb,OAAQ,MAAG,G,OAG7D,yBAeM,MAfN,GAeM,CAdJ,yBAMS,UALPR,KAAK,SACLT,MAAM,iBACL,QAAK,iCAAE,EAAA6C,cAAc,EAAA9B,OACvB,UAGD,yBAMS,UALPN,KAAK,SACLT,MAAM,4BACL,QAAK,iCAAE,EAAA6B,WAAU,aACnB,e,uDAYE,IACbiB,MAAO,CACLC,cAAe,CACbtC,KAAMuC,OACNC,QAAS,KAGbC,KAPa,WAQX,MAAO,CACLC,MAAO,CACLC,OAAQ,KACRC,QAAS,MAEXd,gBAAiB,GACjBX,UAAW,GACXE,YAAa,GACbf,GAAI,KACJuC,YAAa,IAGjBC,QApBa,WAqBXC,KAAKL,MAAMC,OAAS,IAAI,KAAMI,KAAKC,MAAMC,yBACzCF,KAAKL,MAAME,QAAU,IAAI,KAAMG,KAAKC,MAAME,oBAC1CH,KAAKC,MAAMC,wBAAwBE,iBAAiB,yBAA0BJ,KAAKK,aACnFL,KAAKC,MAAME,mBAAmBC,iBAAiB,yBAA0BJ,KAAKK,cAEhFC,SA1Ba,WA2BXN,KAAKC,MAAMC,wBAAwBK,oBAAoB,yBAA0BP,KAAKK,aACtFL,KAAKC,MAAME,mBAAmBI,oBAAoB,yBAA0BP,KAAKK,cAEnFG,QAAS,CACPH,YADO,WAELL,KAAK5B,UAAY,GACjB4B,KAAKjB,gBAAkB,GACvBiB,KAAK1B,YAAc,GACnB0B,KAAKzC,GAAK,MAEZkD,UAPO,WAOmD,IAA/CxD,EAA+C,uDAAxC,SAAUM,EAA8B,uCAA1Be,EAA0B,uCAAbwB,EAAa,uCAC3C,SAAT7C,GAA4B,QAATA,IACrB+C,KAAK5B,UAAYnB,EACjBA,EAAO,WAET+C,KAAK1B,YAAcA,EACnB0B,KAAKL,MAAM1C,GAAMyD,OACjBV,KAAKzC,GAAKA,EAEVyC,KAAKW,aAAeb,GAEtBzB,WAlBO,SAkBKpB,GACV+C,KAAKL,MAAM1C,GAAM2D,OACjBZ,KAAKK,eAEPhB,cAtBO,SAsBQ9B,GAAI,WACjByC,KAAKa,SAASC,KAAK,qBAAqB,GACxC,IAAMC,EAAE,UAAO,uCAAP,gBAAsC,MAAtC,0BAAgFxD,GACxFyC,KAAKgB,MAAMpB,OAAOmB,GACfE,MAAK,SAACC,GACDA,EAAIxB,KAAKyB,SACX,EAAK9C,WAAW,UAChB,EAAK+C,MAAMF,EAAIxB,KAAK2B,QAAS,GAAI,WAAWJ,MAAK,WAC/C,EAAKK,MAAM,YAAa,EAAKX,iBAE/B,EAAKN,eAEL,EAAKe,MAAMF,EAAIxB,KAAK2B,QAAS,GAAI,SAEnC,EAAKR,SAASC,KAAK,qBAAqB,MACvCS,OAAM,SAACC,GACR,EAAKJ,MAAMI,EAAO,GAAI,SACtB,EAAKX,SAASC,KAAK,qBAAqB,OAG9C1B,YA1CO,SA0CMnC,GAAM,WAEXwE,EAAW,CACf,CAAEC,KAAM,QAASC,WAAY,MAC7B,CAAED,KAAM,WAAYC,WAAY,MAChC,CAAED,KAAM,OAAQC,WAAY,MAC5B,CAAED,KAAM,eAAgBC,WAAY,MACpC,CAAED,KAAM,QAASC,WAAY,OAMzBC,EAAgBH,EAASI,QAAO,SAAAC,GAAC,OAAM,EAAKxD,YAAYwD,EAAGJ,SACjE,GAAIE,EAAcxE,OAAS,EAAG,CAC5B,IAAM2E,EAAWH,EAAcI,QAAO,SAACC,EAAGC,GAExC,OADAD,GAAA,UAAQC,EAAEP,WAAV,KACOM,IACN,IAMH,OALAjC,KAAKoB,MAAM,CACT3D,MAAO,UACP0E,KAAMJ,EACNK,KAAM,WAED,EAET,IAAMrB,EAAM,CACVsB,IAAK,GAAF,OAAK,uCAAL,gBAAoC,MAApC,mBACHC,KAAM,GAAF,OAAK,uCAAL,gBAAoC,MAApC,0BAA8EtC,KAAKzC,KAEnFgF,EAAY,CAChBF,IAAK,OACLC,KAAM,OAERtC,KAAKa,SAASC,KAAK,qBAAqB,GAExCd,KAAKgB,MAAMuB,EAAUvC,KAAK5B,YAAY2C,EAAIf,KAAK5B,WAAY,CAAEsB,KAAMM,KAAK1B,cACrE2C,MAAK,SAACC,GACDA,EAAIxB,KAAKyB,SACX,EAAK9C,WAAW,WAChB,EAAK+C,MAAMF,EAAIxB,KAAK2B,QAAS,GAAI,WAAWJ,MAAK,WAC/C,EAAKK,MAAM,YAAa,EAAKX,iBAE/B,EAAKN,eAEL,EAAKe,MAAMF,EAAIxB,KAAK2B,QAAS,GAAI,SAEnC,EAAKR,SAASC,KAAK,qBAAqB,MACvCS,OAAM,SAACC,GACR,EAAKJ,MAAMI,EAAO,GAAI,SACtB,EAAKX,SAASC,KAAK,qBAAqB,OAG9ChC,aA/FO,WAgGwB,KAAzBkB,KAAKjB,iBAEFiB,KAAK1B,YAAYK,YACpBqB,KAAK1B,YAAYK,UAAY,IAE/BqB,KAAK1B,YAAYK,UAAU6D,KAAKxC,KAAKjB,iBACrCiB,KAAKjB,gBAAkB,IAEvBiB,KAAKoB,MAAM,YAAa,GAAI,Y,wBCzZpC,MAAMqB,GAA2B,KAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,U,ICLXvE,IAAI,iBACJ1B,MAAM,QACN2B,SAAS,M,IAEJ3B,MAAM,gB,IAEFA,MAAM,iB,IACJA,MAAM,gB,GACT,yBAEK,MAFDA,MAAM,eAAc,UAExB,G,IAQGA,MAAM,c,IACJA,MAAM,c,IAgBNA,MAAM,kC,GACT,yBAAe,SAAZ,YAAQ,G,IAWRA,MAAM,c,IAcRA,MAAM,gB,GACT,yBAIC,SAHCA,MAAM,yBACNS,KAAK,SACLyF,MAAM,a,kEAlElB,yBA+EM,MA/EN,GA+EM,CA1EJ,yBAyEM,MAzEN,GAyEM,CAxEJ,yBAuEO,QAvEA,SAAM,0DAAU,EAAAC,mBAAA,EAAAA,kBAAA,qBAAiB,e,CACtC,yBAqEM,MArEN,GAqEM,CApEJ,yBAUM,MAVN,GAUM,CATJ,GAGA,yBAKE,UAJA1F,KAAK,SACLT,MAAM,YACNG,aAAW,QACV,QAAK,+BAAE,EAAA0B,mBAGZ,yBA0CM,MA1CN,GA0CM,CAzCJ,yBAQM,MARN,GAQM,CAPJ,yBAMC,SALCH,IAAI,OACJjB,KAAK,OACLyE,KAAK,iBACLlF,MAAM,eACL,SAAM,8BAAE,EAAAoG,aAAA,EAAAA,YAAA,sB,YAGb,yBAMM,YALJ,yBAIC,OAHEnE,IAAK,EAAAoE,cACNnE,IAAI,SACJlC,MAAM,a,kBAGV,yBAWM,MAXN,GAWM,CAVJ,GACA,yBAQM,YAPJ,yBAMS,UALPS,KAAK,SACLT,MAAM,iCACL,QAAK,8BAAE,EAAAsG,YAAA,EAAAA,WAAA,sBACT,gBAKL,yBAOM,MAPN,GAOM,C,4BANJ,yBAKC,SAJC5E,IAAI,iB,qDACK,EAAAK,SAAQ,IACjBtB,KAAK,OACLT,MAAM,gB,4BAFG,EAAA+B,cAKb,yBAIC,OAHEE,IAAK,EAAAF,SACNG,IAAI,OACJlC,MAAM,a,kBAGV,yBAaM,MAbN,GAaM,CAZJ,GAKA,yBAMS,UALPS,KAAK,SACLT,MAAM,4BACL,QAAK,+BAAE,EAAA6B,gBACT,a,YAYb,IAAM0E,GAAS,IAAIC,WACJ,IACbtD,KADa,WAEX,MAAO,CACLuD,eAAgB,KAChBJ,cAAe,GACfK,SAAU,KACV3E,SAAU,KAGdwB,QATa,WAUXC,KAAKiD,eAAiB,IAAI,KAAMjD,KAAKC,MAAMgD,gBAC3CF,GAAO3C,iBAAiB,OAAQJ,KAAKmD,oBAEvCC,UAba,WAcXL,GAAOxC,oBAAoB,OAAQP,KAAKmD,oBAE1C3C,QAAS,CACPoC,YADO,WAEL5C,KAAKkD,SAAWlD,KAAKC,MAAMoD,KAAKC,MAAM,GACtCP,GAAOQ,cAAcvD,KAAKC,MAAMoD,KAAKC,MAAM,KAE7CH,kBALO,SAKYK,GACjBxD,KAAK6C,cAAgBW,EAAEC,OAAOC,QAEhCf,kBARO,WAQc,WACnB,IAAK3C,KAAKkD,SAER,OADAlD,KAAKoB,MAAM,SAAU,GAAI,UAClB,EAET,IAAML,EAAE,UAAO,uCAAP,gBAAsC,MAAtC,kBACF4C,EAAW,IAAIC,SACrBD,EAASE,OAAO,iBAAkB7D,KAAKkD,UAYvClD,KAAKa,SAASC,KAAK,qBAAqB,GAExCd,KAAKgB,MAAM8C,KAAK/C,EAAK4C,GAClB1C,MAAK,SAACC,GACDA,EAAIxB,KAAKyB,QACX,EAAK5C,SAAW2C,EAAIxB,KAAKnB,SAEzB,EAAK6C,MAAMF,EAAIxB,KAAK2B,QAAS,GAAI,SAEnC,EAAKR,SAASC,KAAK,qBAAqB,MACvCS,OAAM,SAACC,GACR,EAAKJ,MAAMI,EAAO,GAAI,SACtB,EAAKX,SAASC,KAAK,qBAAqB,OAG9CgC,WA1CO,WA4CL9C,KAAKC,MAAM8D,eAAeC,SAC1BC,SAASC,YAAY,SAEvBzD,UA/CO,WAgDLT,KAAKiD,eAAevC,QAEtBrC,WAlDO,WAmDL2B,KAAKiD,eAAerC,UCpJ1B,MAAM,GAA2B,KAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UJuJA,IACbc,KAAM,gBACNyC,WAAY,CACVC,aAAA,KACAC,iBACAC,mBAEF5E,KAPa,WAQX,MAAO,CACL5C,WAAW,EACXK,SAAU,GACVa,WAAY,CACVR,SAAU,KACVmD,aAAc,KACd4D,UAAU,EACVC,SAAS,EACTC,YAAa,QAInBC,QApBa,WAqBX1E,KAAK/B,eAEPuC,QAAS,CACPvC,YADO,WACgB,WAAV0G,EAAU,uDAAH,EAClB3E,KAAKa,SAASC,KAAK,qBAAqB,GACxCd,KAAKgB,MAAM4D,IAAX,UAAkB,uCAAlB,gBAAiD,MAAjD,gCAAiGD,IAC9F1D,MAAK,SAACC,GACL,GAAIA,EAAIxB,KAAKyB,QAAS,CACpB,MAAiCD,EAAIxB,KAA7BvC,EAAR,EAAQA,SAAUa,EAAlB,EAAkBA,WAClB,EAAKb,SAAWA,EAChB,EAAKa,WAAaA,OAElB,EAAKoD,MAAMF,EAAIxB,KAAK2B,QAAS,GAAI,SAEnC,EAAKR,SAASC,KAAK,qBAAqB,MACvCS,OAAM,SAACC,GACR,EAAKJ,MAAMI,EAAO,GAAI,SACtB,EAAKX,SAASC,KAAK,qBAAqB,OAG9ChD,cAlBO,SAkBQ+G,GAAU,WACjBC,EAAQ9E,KAAK7C,SAAS4H,WAAU,SAAC1H,GAAD,OAAaA,EAAQE,KAAOsH,KAClE7E,KAAK7C,SAAS2H,GAAOjH,YAAcmC,KAAK7C,SAAS2H,GAAOjH,WAExDmC,KAAKa,SAASC,KAAK,qBAAqB,GACxCd,KAAKgB,MAAMgE,IAAX,UAAkB,uCAAlB,gBAAiD,MAAjD,0BAA2FH,GAAY,CAAEnF,KAAMM,KAAK7C,SAAS2H,KAC1H7D,MAAK,SAACC,GACDA,EAAIxB,KAAKyB,QACX,EAAKC,MAAMF,EAAIxB,KAAK2B,QAAS,GAAI,WAAWJ,MAAK,WAC/C,EAAKK,MAAM,eAAgB,EAAKtD,WAAW2C,iBAG7C,EAAKS,MAAMF,EAAIxB,KAAK2B,QAAS,GAAI,SAEnC,EAAKR,SAASC,KAAK,qBAAqB,MACvCS,OAAM,SAACC,GACR,EAAKJ,MAAMI,EAAO,GAAI,SACtB,EAAKX,SAASC,KAAK,qBAAqB,OAI9C5D,aAvCO,SAuCOD,EAAMM,GAAsB,IAAlBe,EAAkB,uDAAJ,GAEvB,cAATrB,EACF+C,KAAKC,MAAMqE,eAAe7D,YAE1BT,KAAKC,MAAMoE,cAAc5D,UAAUxD,EAAMM,EAAIe,EAAa0B,KAAKhC,WAAW2C,iBK5NlF,MAAM,GAA2B,KAAgB,GAAQ,CAAC,CAAC,SAASsE,KAErD,iB,kCCJf,IAAIC,EAAI,EAAQ,QACZC,EAAc,EAAQ,QACtBC,EAAS,EAAQ,QACjBC,EAAM,EAAQ,QACdC,EAAW,EAAQ,QACnBC,EAAiB,EAAQ,QAAuCC,EAChEC,EAA4B,EAAQ,QAEpCC,EAAeN,EAAOO,OAE1B,GAAIR,GAAsC,mBAAhBO,MAAiC,gBAAiBA,EAAaE,iBAExDC,IAA/BH,IAAexG,aACd,CACD,IAAI4G,EAA8B,GAE9BC,EAAgB,WAClB,IAAI7G,EAAc8G,UAAU5I,OAAS,QAAsByI,IAAjBG,UAAU,QAAmBH,EAAYrG,OAAOwG,UAAU,IAChGtC,EAAS1D,gBAAgB+F,EACzB,IAAIL,EAAaxG,QAED2G,IAAhB3G,EAA4BwG,IAAiBA,EAAaxG,GAE9D,MADoB,KAAhBA,IAAoB4G,EAA4BpC,IAAU,GACvDA,GAET+B,EAA0BM,EAAeL,GACzC,IAAIO,EAAkBF,EAAcH,UAAYF,EAAaE,UAC7DK,EAAgBC,YAAcH,EAE9B,IAAII,EAAiBF,EAAgBG,SACjCC,EAAyC,gBAAhC7G,OAAOkG,EAAa,SAC7BY,EAAS,wBACbf,EAAeU,EAAiB,cAAe,CAC7CM,cAAc,EACd3B,IAAK,WACH,IAAI4B,EAASlB,EAAStF,MAAQA,KAAKyG,UAAYzG,KAC3C0G,EAASP,EAAeQ,KAAKH,GACjC,GAAInB,EAAIS,EAA6BU,GAAS,MAAO,GACrD,IAAII,EAAOP,EAASK,EAAOG,MAAM,GAAI,GAAKH,EAAOI,QAAQR,EAAQ,MACjE,MAAgB,KAATM,OAAcf,EAAYe,KAIrC1B,EAAE,CAAEE,QAAQ,EAAM2B,QAAQ,GAAQ,CAChCpB,OAAQI","file":"js/chunk-6b53a2e6.d8d4e90f.js","sourcesContent":["<template>\r\n  <div class=\"p-5\">\r\n    <Loading\r\n      :active=\"isLoading\"\r\n      color=\"#00BFFF\"\r\n      loader=\"dots\"\r\n    />\r\n    <div class=\"text-end\">\r\n      <button\r\n        type=\"button\"\r\n        class=\"btn btn-sm btn-primary me-3 my-3\"\r\n        @click=\"modalHandler('uploadImg')\"\r\n      >\r\n        上傳圖片\r\n      </button>\r\n      <button\r\n        type=\"button\"\r\n        class=\"btn btn-sm btn-primary my-3\"\r\n        @click=\"modalHandler('add', '' )\"\r\n      >\r\n        建立新產品\r\n      </button>\r\n    </div>\r\n    <table class=\"table mb-3\">\r\n      <thead>\r\n        <tr>\r\n          <th width=\"150\">\r\n            分類\r\n          </th>\r\n          <th>產品名稱</th>\r\n          <th width=\"100\">\r\n            原價\r\n          </th>\r\n          <th width=\"100\">\r\n            售價\r\n          </th>\r\n          <th width=\"150\">\r\n            是否啟用\r\n          </th>\r\n          <th width=\"150\">\r\n            編輯\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody class=\"productList\">\r\n        <template v-if=\"products.length > 0\">\r\n          <tr\r\n            v-for=\"product in products\"\r\n            :key=\"product.id\"\r\n          >\r\n            <td>{{ product.category }}</td>\r\n            <td>{{ product.title }}</td>\r\n            <td class=\"text-right\">\r\n              {{ product.origin_price }}\r\n            </td>\r\n            <td class=\"text-right\">\r\n              {{ product.price }}\r\n            </td>\r\n            <td>\r\n              <!-- bs4 用法-->\r\n              <!-- <div class=\"custom-control custom-switch\">\r\n                <input\r\n                  :id=\"`customSwitch${product.id}`\"\r\n                  :checked=\"product.is_enabled\"\r\n                  type=\"checkbox\"\r\n                  class=\"custom-control-input\"\r\n                  @change=\"enableProduct(product.id)\"\r\n                >\r\n                <label\r\n                  class=\"custom-control-label\"\r\n                  :class=\"{'text-success': product.is_enabled }\"\r\n                  :for=\"`customSwitch${ product.id }`\"\r\n                >{{ product.is_enabled ? \"啟用\" : \"未啟用\" }}</label>\r\n              </div> -->\r\n\r\n              <div class=\"form-check form-switch\">\r\n                <!-- 注意這邊需要用 checked = =... -->\r\n                <input\r\n                  :id=\"`customSwitch${product.id}`\"\r\n                  :checked=\"product.is_enabled\"\r\n                  class=\"form-check-input\"\r\n                  type=\"checkbox\"\r\n                  @change=\"enableProduct(product.id)\"\r\n                >\r\n                <label\r\n                  class=\"form-check-label\"\r\n                  :class=\"{'text-success': product.is_enabled }\"\r\n                  :for=\"`customSwitch${ product.id }`\"\r\n                >{{ product.is_enabled ? \"啟用\" : \"未啟用\" }}</label>\r\n              </div>\r\n            </td>\r\n            <td>\r\n              <div\r\n                class=\"btn-group btn-group-sm\"\r\n                role=\"group\"\r\n                aria-label=\"Basic example\"\r\n              >\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-outline-primary\"\r\n                  @click=\"modalHandler('edit', product.id ,{...product})\"\r\n                >\r\n                  編輯\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-outline-danger\"\r\n                  @click=\"modalHandler('delete', product.id ,{...product})\"\r\n                >\r\n                  刪除\r\n                </button>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </template>\r\n        <tr v-else>\r\n          <td\r\n            class=\"text-center\"\r\n            colspan=\"100\"\r\n          >\r\n            目前沒有產品唷!!!\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <Pagination\r\n      :pagination=\"pagination\"\r\n      @get-items=\"getProducts\"\r\n    />\r\n    <!-- 統一一個 modal 管理 -->\r\n    <!-- <addEditModal\r\n      :api-url=\"apiUrl\"\r\n      :api-path=\"apiPath\"\r\n      :modal-type=\"modalType\"\r\n      :temp-product=\"tempProduct\"\r\n      @e-get-products=\"getProducts\"\r\n      @e-cancel-modal=\"cancelModal\"\r\n    /> -->\r\n    <!-- modal 刪除 -->\r\n    <!-- :api-url=\"apiUrl\"\r\n      :api-path=\"apiPath\"\r\n      :temp-product=\"tempProduct\"\r\n      @e-cancel-modal=\"cancelModal\" -->\r\n    <ProductsModal\r\n      ref=\"ProductsModal\"\r\n      @get-items=\"getProducts\"\r\n    />\r\n\r\n    <UploadImgModal\r\n      ref=\"UploadImgModal\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Pagination from '@/components/Pagination.vue'\r\nimport ProductsModal from '@/components/dashboard/ProductsModal.vue'\r\nimport UploadImgModal from '@/components/dashboard/UploadImgModal.vue'\r\nexport default {\r\n  name: 'AdminProducts',\r\n  components: {\r\n    Pagination,\r\n    ProductsModal,\r\n    UploadImgModal\r\n  },\r\n  data () {\r\n    return {\r\n      isLoading: false,\r\n      products: [],\r\n      pagination: {\r\n        category: null,\r\n        current_page: null,\r\n        has_next: false,\r\n        has_pre: false,\r\n        total_pages: null\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.getProducts()\r\n  },\r\n  methods: {\r\n    getProducts (page = 1) {\r\n      this.$emitter.emit('fullScreenLoading', true)\r\n      this.$http.get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            const { products, pagination } = res.data\r\n            this.products = products\r\n            this.pagination = pagination\r\n          } else {\r\n            this.$swal(res.data.message, '', 'error')\r\n          }\r\n          this.$emitter.emit('fullScreenLoading', false)\r\n        }).catch((error) => {\r\n          this.$swal(error, '', 'error')\r\n          this.$emitter.emit('fullScreenLoading', false)\r\n        })\r\n    },\r\n    enableProduct (selectId) {\r\n      const index = this.products.findIndex((product) => product.id === selectId)\r\n      this.products[index].is_enabled = !this.products[index].is_enabled\r\n\r\n      this.$emitter.emit('fullScreenLoading', true)\r\n      this.$http.put(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${selectId}`, { data: this.products[index] })\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.$swal(res.data.message, '', 'success').then(() => {\r\n              this.$emit('get-products', this.pagination.current_page)\r\n            })\r\n          } else {\r\n            this.$swal(res.data.message, '', 'error')\r\n          }\r\n          this.$emitter.emit('fullScreenLoading', false)\r\n        }).catch((error) => {\r\n          this.$swal(error, '', 'error')\r\n          this.$emitter.emit('fullScreenLoading', false)\r\n        })\r\n    },\r\n    // modal 控制\r\n    modalHandler (type, id, tempProduct = {}) {\r\n      // 控制往內部送\r\n      if (type === 'uploadImg') {\r\n        this.$refs.UploadImgModal.openModal()\r\n      } else {\r\n        this.$refs.ProductsModal.openModal(type, id, tempProduct, this.pagination.current_page)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div>\r\n    <!-- 新增修改 -->\r\n    <div\r\n      ref=\"adminAddEdittModal\"\r\n      class=\"modal\"\r\n      tabindex=\"-1\"\r\n    >\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\">\r\n              {{ modalType === 'add' ? '新增' : '編輯' }}產品\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn-close\"\r\n              aria-label=\"Close\"\r\n              @click=\"closeModal('addEdit')\"\r\n            />\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"container-fluid\">\r\n              <form id=\"productForm\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-md-4\">\r\n                    <div class=\"form-group my-2\">\r\n                      <label for=\"mainImg\">主要圖片</label>\r\n                      <input\r\n                        id=\"mainImg\"\r\n                        v-model.lazy=\"tempProduct.imageUrl\"\r\n                        type=\"text\"\r\n                        class=\"form-control mb-3\"\r\n                        placeholder=\"輸入主圖網址\"\r\n                      >\r\n                      <img\r\n                        class=\"img-fluid\"\r\n                        :src=\"tempProduct.imageUrl\"\r\n                        alt=\"圖片\"\r\n                      >\r\n                    </div>\r\n\r\n                    <template v-if=\"tempProduct.imagesUrl?.length > 0\">\r\n                      <div class=\"form-group my-2\">\r\n                        <h6 class=\"h6\">\r\n                          次要圖片\r\n                        </h6>\r\n                      </div>\r\n                      <div class=\"form-row\">\r\n                        <div\r\n                          v-for=\"(temp,i) in tempProduct.imagesUrl\"\r\n                          :key=\"i\"\r\n                          class=\"col-md-6 mb-5\"\r\n                        >\r\n                          <label :for=\"'#image' + (i+1)\">輸入圖片網址 {{ i+1 }}</label>\r\n                          <!-- 指向問題用 temp 會改不到原本的 -->\r\n                          <input\r\n                            :id=\"'image'+(i+1)\"\r\n                            v-model=\"tempProduct.imagesUrl[i]\"\r\n                            type=\"text\"\r\n                            class=\"form-control mb-3\"\r\n                            :placeholder=\"'輸入圖片網址'+(i+1)\"\r\n                          >\r\n                          <div>\r\n                            <img\r\n                              class=\"img-fluid\"\r\n                              :src=\"temp\"\r\n                              alt=\"圖片\"\r\n                            >\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </template>\r\n                    <hr>\r\n                    <div class=\"form-group my-2\">\r\n                      <h6 class=\"h6\">\r\n                        多圖新增\r\n                      </h6>\r\n                      <button\r\n                        type=\"button\"\r\n                        class=\"btn btn-sm btn-outline-primary btn-block mb-2\"\r\n                        @click=\"addTempImage\"\r\n                      >\r\n                        新增圖片\r\n                      </button>\r\n                      <div class=\"mb-5\">\r\n                        <input\r\n                          v-model.lazy.trim=\"newTempImageUrl\"\r\n                          type=\"text\"\r\n                          class=\"form-control form-control-sm mb-3\"\r\n                          placeholder=\"新增圖片網址\"\r\n                        >\r\n                        <div>\r\n                          <img\r\n                            class=\"img-fluid\"\r\n                            :src=\"newTempImageUrl\"\r\n                            alt=\"新增圖片\"\r\n                          >\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-md-8\">\r\n                    <div class=\"form-group mb-2\">\r\n                      <!-- title(String)、category(String)、unit(String)、origin_price(Number)、price(Number) 為必填欄位 -->\r\n                      <label for=\"title\">\r\n                        <span class=\"text-danger\">*</span>\r\n                        標題\r\n                      </label>\r\n                      <input\r\n                        id=\"title\"\r\n                        v-model=\"tempProduct.title\"\r\n                        type=\"text\"\r\n                        class=\"form-control\"\r\n                        placeholder=\"標題\"\r\n                      >\r\n                    </div>\r\n                    <div class=\"form-row mb-2\">\r\n                      <div class=\"form-group col-md-6\">\r\n                        <label for=\"category\">\r\n                          <span class=\"text-danger\">*</span>\r\n                          分類\r\n                        </label>\r\n                        <input\r\n                          id=\"category\"\r\n                          v-model=\"tempProduct.category\"\r\n                          type=\"text\"\r\n                          class=\"form-control\"\r\n                          placeholder=\"分類\"\r\n                        >\r\n                      </div>\r\n                      <div class=\"form-group col-md-6\">\r\n                        <label for=\"unit\">\r\n                          <span class=\"text-danger\">*</span>\r\n                          單位\r\n                        </label>\r\n                        <input\r\n                          id=\"unit\"\r\n                          v-model=\"tempProduct.unit\"\r\n                          type=\"text\"\r\n                          class=\"form-control\"\r\n                          placeholder=\"單位\"\r\n                        >\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"form-row mb-2\">\r\n                      <div class=\"form-group col-md-6\">\r\n                        <label for=\"origin_price\">\r\n                          <span class=\"text-danger\">*</span>\r\n                          原價\r\n                        </label>\r\n                        <input\r\n                          id=\"origin_price\"\r\n                          v-model.number=\"tempProduct.origin_price\"\r\n                          type=\"number\"\r\n                          class=\"form-control\"\r\n                          min=\"1\"\r\n                          placeholder=\"原價\"\r\n                        >\r\n                      </div>\r\n                      <div class=\"form-group col-md-6\">\r\n                        <span class=\"text-danger\">*</span>\r\n                        <label for=\"price\">售價</label>\r\n                        <input\r\n                          id=\"price\"\r\n                          v-model.number=\"tempProduct.price\"\r\n                          type=\"number\"\r\n                          class=\"form-control\"\r\n                          min=\"1\"\r\n                          placeholder=\"售價\"\r\n                        >\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"form-group mb-2\">\r\n                      <label for=\"description\">\r\n                        產品描述\r\n                      </label>\r\n                      <textarea\r\n                        id=\"description\"\r\n                        v-model=\"tempProduct.description\"\r\n                        class=\"form-control\"\r\n                        placeholder=\"描述\"\r\n                      />\r\n                    </div>\r\n                    <div class=\"form-group mb-2\">\r\n                      <label for=\"content\">\r\n                        說明內容\r\n                      </label>\r\n                      <textarea\r\n                        id=\"content\"\r\n                        v-model=\"tempProduct.content\"\r\n                        class=\"form-control\"\r\n                        placeholder=\"說明\"\r\n                      />\r\n                    </div>\r\n                    <div class=\"form-group form-check\">\r\n                      <input\r\n                        id=\"productFormChecked\"\r\n                        v-model=\"tempProduct.is_enabled\"\r\n                        type=\"checkbox\"\r\n                        class=\"form-check-input\"\r\n                      >\r\n                      <label\r\n                        class=\"form-check-label\"\r\n                        for=\"productFormChecked\"\r\n                      >是否啟用</label>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-primary\"\r\n              @click=\"sendProduct\"\r\n            >\r\n              確定\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-outline-secondary\"\r\n              @click=\"closeModal('addEdit')\"\r\n            >\r\n              取消\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 刪除 -->\r\n    <div\r\n      ref=\"adminDeleteProductModal\"\r\n      class=\"modal\"\r\n      tabindex=\"-1\"\r\n    >\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\">\r\n              刪除產品\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn-close\"\r\n              aria-label=\"Close\"\r\n              @click=\"closeModal('delete')\"\r\n            />\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <p class=\"h3\">\r\n              是否要<span class=\"text-danger\">將 {{ tempProduct.title }} 刪除</span>??\r\n            </p>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-danger\"\r\n              @click=\"deleteProduct(id)\"\r\n            >\r\n              確定刪除\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-outline-secondary\"\r\n              @click=\"closeModal('delete')\"\r\n            >\r\n              取消\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal'\r\nexport default {\r\n  props: {\r\n    tempProductId: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      modal: {\r\n        delete: null,\r\n        addEdit: null\r\n      },\r\n      newTempImageUrl: '',\r\n      modalType: '',\r\n      tempProduct: {},\r\n      id: null,\r\n      currentPage: 1\r\n    }\r\n  },\r\n  mounted () {\r\n    this.modal.delete = new Modal(this.$refs.adminDeleteProductModal)\r\n    this.modal.addEdit = new Modal(this.$refs.adminAddEdittModal)\r\n    this.$refs.adminDeleteProductModal.addEventListener('hidePrevented.bs.modal', this.clearStatus)\r\n    this.$refs.adminAddEdittModal.addEventListener('hidePrevented.bs.modal', this.clearStatus)\r\n  },\r\n  unmouted () {\r\n    this.$refs.adminDeleteProductModal.removeEventListener('hidePrevented.bs.modal', this.clearStatus)\r\n    this.$refs.adminAddEdittModal.removeEventListener('hidePrevented.bs.modal', this.clearStatus)\r\n  },\r\n  methods: {\r\n    clearStatus () {\r\n      this.modalType = ''\r\n      this.newTempImageUrl = ''\r\n      this.tempProduct = {}\r\n      this.id = null\r\n    },\r\n    openModal (type = 'delete', id, tempProduct, currentPage) {\r\n      if (type === 'edit' || type === 'add') {\r\n        this.modalType = type\r\n        type = 'addEdit'\r\n      }\r\n      this.tempProduct = tempProduct\r\n      this.modal[type].show()\r\n      this.id = id\r\n      // 紀錄父層當下頁面 避免更新後跳回第一頁\r\n      this.current_page = currentPage\r\n    },\r\n    closeModal (type) {\r\n      this.modal[type].hide()\r\n      this.clearStatus()\r\n    },\r\n    deleteProduct (id) {\r\n      this.$emitter.emit('fullScreenLoading', true)\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${id}`\r\n      this.$http.delete(url)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.closeModal('delete')\r\n            this.$swal(res.data.message, '', 'success').then(() => {\r\n              this.$emit('get-items', this.current_page)\r\n            })\r\n            this.clearStatus()\r\n          } else {\r\n            this.$swal(res.data.message, '', 'error')\r\n          }\r\n          this.$emitter.emit('fullScreenLoading', false)\r\n        }).catch((error) => {\r\n          this.$swal(error, '', 'error')\r\n          this.$emitter.emit('fullScreenLoading', false)\r\n        })\r\n    },\r\n    sendProduct (type) {\r\n      // 檢查必填欄位\r\n      const inputMap = [\r\n        { name: 'title', columnName: '標題' },\r\n        { name: 'category', columnName: '分類' },\r\n        { name: 'unit', columnName: '單位' },\r\n        { name: 'origin_price', columnName: '原價' },\r\n        { name: 'price', columnName: '售價' }\r\n      ]\r\n\r\n      // 未輸入數值都是空字串\r\n      // 空值返回\r\n      // 因為可能 tempProduct 內為空直接改成濾 falsy 的值\r\n      const checkEmptyArr = inputMap.filter(el => !this.tempProduct[el.name])\r\n      if (checkEmptyArr.length > 0) {\r\n        const emptyMsg = checkEmptyArr.reduce((p, n) => {\r\n          p += `${n.columnName} `\r\n          return p\r\n        }, '')\r\n        this.$swal({\r\n          title: '以下欄位必填!',\r\n          text: emptyMsg,\r\n          icon: 'error'\r\n        })\r\n        return false\r\n      }\r\n      const url = {\r\n        add: `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/`,\r\n        edit: `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${this.id}`\r\n      }\r\n      const appMethod = {\r\n        add: 'post',\r\n        edit: 'put'\r\n      }\r\n      this.$emitter.emit('fullScreenLoading', true)\r\n      // pass\r\n      this.$http[appMethod[this.modalType]](url[this.modalType], { data: this.tempProduct })\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.closeModal('addEdit')\r\n            this.$swal(res.data.message, '', 'success').then(() => {\r\n              this.$emit('get-items', this.current_page)\r\n            })\r\n            this.clearStatus()\r\n          } else {\r\n            this.$swal(res.data.message, '', 'error')\r\n          }\r\n          this.$emitter.emit('fullScreenLoading', false)\r\n        }).catch((error) => {\r\n          this.$swal(error, '', 'error')\r\n          this.$emitter.emit('fullScreenLoading', false)\r\n        })\r\n    },\r\n    addTempImage () {\r\n      if (this.newTempImageUrl !== '') {\r\n        // 為空要先初始化\r\n        if (!this.tempProduct.imagesUrl) {\r\n          this.tempProduct.imagesUrl = []\r\n        }\r\n        this.tempProduct.imagesUrl.push(this.newTempImageUrl)\r\n        this.newTempImageUrl = ''\r\n      } else {\r\n        this.$swal('請輸入新增圖片網址', '', 'error')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./ProductsModal.vue?vue&type=template&id=aed9ed98\"\nimport script from \"./ProductsModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\code_practice\\\\homeless\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div\r\n    ref=\"uploadImgModal\"\r\n    class=\"modal\"\r\n    tabindex=\"-1\"\r\n  >\r\n    <div class=\"modal-dialog\">\r\n      <form @submit.prevent=\"fileUploadHandler\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\">\r\n              上傳圖片\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn-close\"\r\n              aria-label=\"Close\"\r\n              @click=\"closeModal()\"\r\n            />\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"form-group\">\r\n              <input\r\n                ref=\"file\"\r\n                type=\"file\"\r\n                name=\"file-to-upload\"\r\n                class=\"form-control\"\r\n                @change=\"fileHandler\"\r\n              >\r\n            </div>\r\n            <div>\r\n              <img\r\n                :src=\"preViewImgUrl\"\r\n                alt=\"預覽上傳圖片\"\r\n                class=\"img-fluid\"\r\n              >\r\n            </div>\r\n            <div class=\"d-flex justify-content-between\">\r\n              <p>上傳圖片後的連結</p>\r\n              <div>\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-sm btn-outline-primary\"\r\n                  @click=\"copyImgUrl\"\r\n                >\r\n                  複製取得連結\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <input\r\n                ref=\"uploadImgInput\"\r\n                v-model=\"imageUrl\"\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n              >\r\n            </div>\r\n            <img\r\n              :src=\"imageUrl\"\r\n              alt=\"預覽圖片\"\r\n              class=\"img-fluid\"\r\n            >\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <input\r\n              class=\"btn btn-sm btn-primary\"\r\n              type=\"submit\"\r\n              value=\"上傳圖片並取得連結\"\r\n            >\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn  btn-sm btn-secondary\"\r\n              @click=\"closeModal()\"\r\n            >\r\n              關閉\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal'\r\nconst reader = new FileReader()\r\nexport default {\r\n  data () {\r\n    return {\r\n      uploadImgModal: null,\r\n      preViewImgUrl: '',\r\n      tempFile: null,\r\n      imageUrl: ''\r\n    }\r\n  },\r\n  mounted () {\r\n    this.uploadImgModal = new Modal(this.$refs.uploadImgModal)\r\n    reader.addEventListener('load', this.fileOnLoadHandler)\r\n  },\r\n  unmounted () {\r\n    reader.removeEventListener('load', this.fileOnLoadHandler)\r\n  },\r\n  methods: {\r\n    fileHandler () {\r\n      this.tempFile = this.$refs.file.files[0]\r\n      reader.readAsDataURL(this.$refs.file.files[0])\r\n    },\r\n    fileOnLoadHandler (e) {\r\n      this.preViewImgUrl = e.target.result\r\n    },\r\n    fileUploadHandler () {\r\n      if (!this.tempFile) {\r\n        this.$swal('請先選擇檔案', '', 'error')\r\n        return false\r\n      }\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/upload/`\r\n      const formData = new FormData()\r\n      formData.append('file-to-upload', this.tempFile)\r\n\r\n      // action=\"/api/thisismycourse2/admin/upload\" enctype=\"multipart/form-data\"\r\n      // method=\"post\"\r\n      // 擺了反而過不了\r\n      // const config = {\r\n      //   headers: {\r\n      //       'content-type': 'multipart/form-data'\r\n      //     }\r\n      // }\r\n      // enctype=\"multipart/form-data\"\r\n      // this.$http.post(url,formData,config)\r\n      this.$emitter.emit('fullScreenLoading', true)\r\n\r\n      this.$http.post(url, formData)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.imageUrl = res.data.imageUrl\r\n          } else {\r\n            this.$swal(res.data.message, '', 'error')\r\n          }\r\n          this.$emitter.emit('fullScreenLoading', false)\r\n        }).catch((error) => {\r\n          this.$swal(error, '', 'error')\r\n          this.$emitter.emit('fullScreenLoading', false)\r\n        })\r\n    },\r\n    copyImgUrl () {\r\n      // 選擇該位子 並且複製\r\n      this.$refs.uploadImgInput.select()\r\n      document.execCommand('copy')\r\n    },\r\n    openModal () {\r\n      this.uploadImgModal.show()\r\n    },\r\n    closeModal () {\r\n      this.uploadImgModal.hide()\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UploadImgModal.vue?vue&type=template&id=17a7c943\"\nimport script from \"./UploadImgModal.vue?vue&type=script&lang=js\"\nexport * from \"./UploadImgModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\code_practice\\\\homeless\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Products.vue?vue&type=template&id=2fdb9b50\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\code_practice\\\\homeless\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n"],"sourceRoot":""}